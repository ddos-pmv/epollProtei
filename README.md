# epoll Protei


## Что можено сделать
- испльзовать лок-фрии струтуры для хранения буфферов и дексрипторов входящий соединений...
Избавиться от этой блокировки...
```cpp
    void Server::add_to_queue(int fd)
    {
        std::unique_lock lock(queue_mtx_);
        connection_queue_.push(fd);
        cv_.notify_one();
    }
```

- исопльзовать нормальный thred_pool
- как-то избавитьяс от обработски одного соединения в разных потоках...
чтобы каждый поток работал с разным дескритором.
- сделать для каждого соединеия два буффера на чтение и на запись...
сделать write nonblocking
```
save_write...
```